#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура КартинкаЧО01ПеремещенияТоваровНажатие(Элемент, СтандартнаяОбработка)
	СтандартнаяОбработка = Ложь;
	
	ОткрытьФорму("Документ.ПеремещениеТоваров.ФормаСписка");
КонецПроцедуры


&НаКлиенте
Процедура КартинкаЧО01СНастройкиНажатие(Элемент, СтандартнаяОбработка)
	СтандартнаяОбработка = Ложь;
	
	ОткрытьФорму("ОбщаяФорма.ФормаКонстант");
КонецПроцедуры

&НаКлиенте
Процедура КартинкаЧО01СОчиститьБазуДанныхНажатие(Элемент, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	
	Попытка
		ОчиститьБазуДанныхНажатиеНаСервере();
	Исключение   
		
		Сообщить("Ошибка очистки базы данных.");
		Возврат;
	КонецПопытки;
	
	Сообщить("База данных очищена.");
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура ОчиститьБазуДанныхНажатиеНаСервере()
	
	Запрос = Новый Запрос;
	Запрос.Текст = "ВЫБРАТЬ
	|	ПеремещенияТоваров.Ссылка
	|ИЗ
	|	Документ.ПеремещениеТоваров КАК ПеремещенияТоваров";
	
	Результат = Запрос.Выполнить();
	ПеремещенияТоваров = Результат.Выгрузить().ВыгрузитьКолонку("Ссылка");
	
	
	УдалитьОбъекты(ПеремещенияТоваров);	
КонецПроцедуры

#КонецОбласти